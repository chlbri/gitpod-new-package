# name: Publish

# on: 
#   workflow_run:
#     workflows: [CI]
#     types: 
#       - completed
#     branches: [main, master, dev] 

# jobs:
#   on-success:
#     needs: check-secret
#     if: needs.check-secret.outputs.my-key == 'true'
#     name: Publish
#     runs-on: ubuntu-latest
     
#     steps:
#       - name: Checkout repo
#         uses: actions/checkout@v2

#       - name: Use Node 16.x
#         uses: actions/setup-node@v1
#         with:
#           node-version: 16.x

#       - uses: pnpm/action-setup@v2.2.2
#         with:
#           version: latest

#       - name: Install dependencies
#         run: pnpm install

#       - name: Publish
#         uses: JS-DevTools/npm-publish@v1
#         with:
#           token: ${{ secrets.NPM_TOKEN }}
#           greater-version-only: true

#       - name: Notification
#         run: echo 'The triggering workflow failed'
     

#   on-failure:
#     runs-on: ubuntu-latest
#     if: ${{ github.event.workflow_run.conclusion == 'failure' }}
#     steps:
#       - run: echo 'The triggering workflow failed'  